(this["webpackJsonponline-store-app"]=this["webpackJsonponline-store-app"]||[]).push([[0],{26:function(e,t,s){},38:function(e,t,s){"use strict";s.r(t);var r=s(0),c=s.n(r),a=s(10),n=s.n(a),i=(s(26),s(21)),o=s(2),l=s(6),u=s(11),d=s(14),j=s.n(d),m=s(18),b=s(7),h=Object(b.b)("users/getUserData",Object(m.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:return s=e.sent,e.abrupt("return",{cardData:s});case 8:case"end":return e.stop()}}),e)})))),f=Object(b.c)({name:"set-user-data",initialState:[],extraReducers:Object(u.a)({},h.fulfilled,(function(e,t){e.length<1&&e.push(t.payload.cardData)}))}),O=(f.actions.setUsersData,f.reducer),p=Object(b.c)({name:"select-user",initialState:[],reducers:{addUser:function(e,t){e.push(t.payload.user),localStorage.setItem("savedSelectedUsers",JSON.stringify(e))},removeUser:function(e,t){var s=e.findIndex((function(e){return e.id===t.payload.user.id}));e.splice(s,1),localStorage.setItem("savedSelectedUsers",JSON.stringify(e))},retrieveStorage:function(e,t){var s=JSON.parse(localStorage.getItem("savedSelectedUsers"));s&&s.forEach((function(t){return e.splice(0,0,t)})),localStorage.setItem("savedSelectedUsers",JSON.stringify(e))}}}),v=p.actions,x=v.addUser,N=v.removeUser,g=v.retrieveStorage,y=p.reducer,S=s(20),_=s(1);var k=function(e){var t=e.user,s=Object(l.c)((function(e){return e.selectedUsers})),c=Boolean(s.find((function(e){return e.id===t.id})))?"users-list__name-active":"",a=!Boolean(s.find((function(e){return e.id===t.id}))),n=Object(r.useState)(!1),i=Object(S.a)(n,2),o=i[0],u=i[1],d=Object(l.b)();function j(e){e.target.id==="".concat(t.firstName,"-not-active")?d(N({user:t})):d(x({user:t})),u(!o)}return Object(_.jsxs)("div",{className:"users-list__user-wrapper",children:[Object(_.jsx)("div",{className:c,children:"".concat(t.firstName," ").concat(t.lastName)}),Object(_.jsxs)("div",{className:"users-list__button-container",children:[Object(_.jsxs)("div",{className:"users-list__checkbox",children:[Object(_.jsx)("input",{className:"users-checkbox",type:"radio",id:"".concat(t.firstName,"-not-active"),value:o,name:t.id,onChange:j,checked:a}),Object(_.jsx)("label",{className:"users-checkbox",htmlFor:"".concat(t.firstName,"-not-active"),children:"Not Active"})]}),Object(_.jsxs)("div",{className:"users-list__checkbox",children:[Object(_.jsx)("input",{className:"users-checkbox",type:"radio",id:"".concat(t.firstName,"-active"),value:!o,name:t.id,onChange:j,checked:!a}),Object(_.jsx)("label",{className:"users-checkbox",htmlFor:"".concat(t.firstName,"-active"),children:"Active"})]})]})]})};var J=function(e){var t=e.letter,s=Object(l.c)((function(e){return e.users})),r=JSON.parse(JSON.stringify(s))[0].sort((function(e,t){return e.firstName.localeCompare(t.firstName)})).filter((function(e){return e.firstName[0].toLowerCase()===t.toLowerCase()}));return Object(_.jsxs)("div",{className:"users-list__letter-section",children:[Object(_.jsx)("div",{className:"users-list-letter-marker",children:t}),0===r.length?Object(_.jsx)("div",{children:"No employees"}):Object(_.jsx)("div",{children:r.map((function(e){return Object(_.jsx)(k,{user:e},e.id)}))})]})};var U=function(e){var t=e.month,s=e.users.filter((function(e){return new Date(e.dob).toLocaleString("en-EN",{month:"long"})===t}));function r(e){if(e){var t=new Date(e),s=t.toLocaleString("en-EN",{month:"long"});return"".concat(t.getDate()," ").concat(s," ").concat(t.getFullYear())}}return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"users-list__month-header",children:t}),s.length>0?s.map((function(e){return Object(_.jsxs)("div",{className:"users-list__selected-user",children:["".concat(e.firstName," ").concat(e.lastName)," ",r(e.dob)]},e.id)})):Object(_.jsx)("div",{className:"users-list__no-b-days-msg",children:"No Employees"})]})};var w=function(){var e=Object(l.c)((function(e){return e.users})),t=JSON.parse(JSON.stringify(Object(l.c)((function(e){return e.selectedUsers}))));t.sort((function(e,t){return e.lastName.localeCompare(t.lastName)}));var s=Array.from(Array(26)).map((function(e,t){return t+65})).map((function(e){return String.fromCharCode(e)})),c=Object(l.b)();return Object(r.useEffect)((function(){c(h({})),c(g({}))}),[c]),console.log("1,0,next"),Object(_.jsx)("div",{className:"App",children:Object(_.jsx)(i.a,{basename:"/test-app",children:Object(_.jsxs)(o.d,{children:[Object(_.jsx)(o.b,{exact:!0,path:"/",children:Object(_.jsx)(o.a,{to:"/employees"})}),Object(_.jsx)(o.b,{exact:!0,path:"/employees",children:Object(_.jsxs)("div",{className:"users",children:[Object(_.jsx)("div",{className:"users-list",children:0!==e.length&&s.map((function(e,t){return Object(_.jsx)(J,{letter:e},t)}))}),Object(_.jsxs)("div",{className:"users-selected-list",children:[Object(_.jsx)("div",{className:"users-selected-list-header",children:"Birthdays"}),0!==t.length?["November","December","January","February","March","April","May","June","July","August","September","October"].map((function(e,s){return Object(_.jsx)(U,{month:e,users:t},s)})):Object(_.jsx)("div",{className:"users-selected-empty",children:"Employees List is empty"})]})]})}),Object(_.jsx)(o.b,{children:Object(_.jsx)(o.a,{to:"/employees"})})]})})})},C=Object(b.a)({reducer:{users:O,selectedUsers:y}});n.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(l.a,{store:C,children:Object(_.jsx)(w,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.5dfca413.chunk.js.map