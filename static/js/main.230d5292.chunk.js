(this["webpackJsonponline-store-app"]=this["webpackJsonponline-store-app"]||[]).push([[0],{16:function(e,t,s){},25:function(e,t,s){"use strict";s.r(t);var r=s(0),c=s.n(r),a=s(4),n=s.n(a),i=(s(16),s(2)),o=s(5),l=s(8),u=s.n(l),d=s(10),m=s(3),j=Object(m.b)("users/getUserData",Object(d.a)(u.a.mark((function e(){var t,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:return s=e.sent,e.abrupt("return",{cardData:s});case 8:case"end":return e.stop()}}),e)})))),b=Object(m.c)({name:"set-user-data",initialState:[],extraReducers:Object(o.a)({},j.fulfilled,(function(e,t){e.length<1&&e.push(t.payload.cardData)}))}),f=(b.actions.setUsersData,b.reducer),h=Object(m.c)({name:"select-user",initialState:[],reducers:{addUser:function(e,t){e.push(t.payload.user),localStorage.setItem("savedSelectedUsers",JSON.stringify(e))},removeUser:function(e,t){var s=e.findIndex((function(e){return e.id===t.payload.user.id}));e.splice(s,1),localStorage.setItem("savedSelectedUsers",JSON.stringify(e))},retrieveStorage:function(e,t){var s=JSON.parse(localStorage.getItem("savedSelectedUsers"));s&&s.forEach((function(t){return e.splice(0,0,t)})),localStorage.setItem("savedSelectedUsers",JSON.stringify(e))}}}),O=h.actions,v=O.addUser,p=O.removeUser,N=O.retrieveStorage,x=h.reducer,g=s(11),y=s(1);var A=function(e){var t=e.user,s=Object(i.c)((function(e){return e.selectedUsers})),c=Boolean(s.find((function(e){return e.id===t.id})))?"users-list__name-active":"",a=!Boolean(s.find((function(e){return e.id===t.id}))),n=Object(r.useState)(!1),o=Object(g.a)(n,2),l=o[0],u=o[1],d=Object(i.b)();function m(e){e.target.id==="".concat(t.firstName,"-not-active")?d(p({user:t})):d(v({user:t})),u(!l)}return Object(y.jsxs)("div",{className:"users-list__user-wrapper",children:[Object(y.jsx)("div",{className:c,children:"".concat(t.firstName," ").concat(t.lastName)}),Object(y.jsxs)("div",{className:"users-list__button-container",children:[Object(y.jsxs)("div",{className:"users-list__checkbox",children:[Object(y.jsx)("input",{className:"users-checkbox",type:"radio",id:"".concat(t.firstName,"-not-active"),value:l,name:t.id,onChange:m,checked:a}),Object(y.jsx)("label",{className:"users-checkbox",htmlFor:"".concat(t.firstName,"-not-active"),children:"Not Active"})]}),Object(y.jsxs)("div",{className:"users-list__checkbox",children:[Object(y.jsx)("input",{className:"users-checkbox",type:"radio",id:"".concat(t.firstName,"-active"),value:!l,name:t.id,onChange:m,checked:!a}),Object(y.jsx)("label",{className:"users-checkbox",htmlFor:"".concat(t.firstName,"-active"),children:"Active"})]})]})]})};var S=function(e){var t=e.letter,s=Object(i.c)((function(e){return e.users})),r=JSON.parse(JSON.stringify(s))[0].sort((function(e,t){return e.firstName.localeCompare(t.firstName)})).filter((function(e){return e.firstName[0].toLowerCase()===t.toLowerCase()}));return Object(y.jsxs)("div",{className:"users-list__letter-section",children:[Object(y.jsx)("div",{className:"users-list-letter-marker",children:t}),0===r.length?Object(y.jsx)("div",{children:"No employees"}):Object(y.jsx)("div",{children:r.map((function(e){return Object(y.jsx)(A,{user:e},e.id)}))})]})};var _=function(e){var t=e.month,s=e.users.filter((function(e){return new Date(e.dob).toLocaleString("en-EN",{month:"long"})===t}));function r(e){if(e){var t=new Date(e),s=t.toLocaleString("en-EN",{month:"long"});return"".concat(t.getDate()," ").concat(s," ").concat(t.getFullYear())}}return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"users-list__month-header",children:t}),s.length>0?s.map((function(e){return Object(y.jsxs)("div",{className:"users-list__selected-user",children:["".concat(e.firstName," ").concat(e.lastName)," ",r(e.dob)]},e.id)})):Object(y.jsx)("div",{className:"users-list__no-b-days-msg",children:"No Employees"})]})};var k=function(){var e=Object(i.c)((function(e){return e.users})),t=JSON.parse(JSON.stringify(Object(i.c)((function(e){return e.selectedUsers}))));t.sort((function(e,t){return e.lastName.localeCompare(t.lastName)}));var s=Array.from(Array(26)).map((function(e,t){return t+65})).map((function(e){return String.fromCharCode(e)})),c=Object(i.b)();return Object(r.useEffect)((function(){c(j({})),c(N({}))}),[c]),console.log("AAAAAAAAAAAAAAAAAAA"),Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)("div",{className:"users",children:[Object(y.jsx)("div",{className:"users-list",children:0!==e.length&&s.map((function(e,t){return Object(y.jsx)(S,{letter:e},t)}))}),Object(y.jsxs)("div",{className:"users-selected-list",children:[Object(y.jsx)("div",{className:"users-selected-list-header",children:"Birthdays"}),0!==t.length?["November","December","January","February","March","April","May","June","July","August","September","October"].map((function(e,s){return Object(y.jsx)(_,{month:e,users:t},s)})):Object(y.jsx)("div",{className:"users-selected-empty",children:"Employees List is empty"})]})]})})},J=Object(m.a)({reducer:{users:f,selectedUsers:x}});n.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(i.a,{store:J,children:Object(y.jsx)(k,{})})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.230d5292.chunk.js.map